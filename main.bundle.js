(self.webpackChunkminskin=self.webpackChunkminskin||[]).push([[179],{662:(e,n,t)=>{"use strict";var a=t(757),i=t.n(a),o=t(926),r=t.n(o);const s=t.p+"java.gltf",c=t.p+"pocket.gltf";t.p,t.p;var d=t(886),u=t(212);const l=15921906;var w=new u.xsS;w.background=new u.Ilk(l),w.fog=new u.ybr(l,1,40);const h=w;var v=document.querySelector("canvas"),m=new u.CP7({canvas:v,antialias:!0});m.setPixelRatio(window.devicePixelRatio),m.shadowMap.enabled=!0,m.setSize(window.innerWidth,window.innerHeight,!1);const p=m;var f=new u.cPb(60,window.innerWidth/window.innerHeight,.1,1e3);f.position.z=15,f.lookAt(0,0,0);const k=f;var g=new u.ZAu,x=new u.Mig(4210752,3);g.add(x);var P=new u.Ox3(16777215,.5);P.castShadow=!0,P.shadow.camera.near=.1,P.shadow.camera.far=1500,P.position.set(4,5,4),P.lookAt(0,0,0),P.shadow.mapSize=new u.FM8(1024,1024),g.add(P);var M=new u.vmT(3381708,4473947,.2);g.add(M);var y=new u.PMe(16777215,.8);y.position.z=16,g.add(y);const b=g;var E=new u._12(1e3,1e3,1e3),I=new u.xoR({color:15067887}),z=new u.Kj0(E,I);z.rotation.x=-Math.PI/2,z.position.y=-1.5,z.receiveShadow=!0;const S=z;var A=new(t(47).E);const L=function(e){return new Promise((function(n,t){A.load(e,(function(e){var t,a=e.scene;a.position.y=-.5,a.traverse((function(e){if(e.castShadow=!0,"head"===e.name)return t=e;e.isMesh&&(e.material.transparent=!0,e.material.alphaTest=.5)})),n({skin:a,head:t})}),null,t)}))},R=function(e,n){(new u.dpR).load(n,(function(n){n.magFilter=u.TyD,n.minFilter=u.FDw,n.flipY=!1,n.encoding=u.knz,64===n.image.width&&64===n.image.height?e.traverse((function(e){e.isMesh&&(e.material.map=n)})):console.log("Not a texture")}))};var j=function(e,n,t){return Math.min(Math.max(e,n),t)},C=function(e){return{x:e.clientX/window.innerWidth*2-1,y:-e.clientY/window.innerHeight*2+1}},F=function(e,n){e.rotation.y=j(2*Math.PI+Math.PI/2*-n.x,6,6.5)+2*Math.PI,e.rotation.x=j(2*Math.PI-Math.PI/2*n.y,6.1,6.4)+Math.PI},H=document.querySelector("div.spinner"),W=document.querySelector("canvas"),q=document.getElementById("changeEdtion");function D(){return(D=r()(i().mark((function e(){var n,t,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L(s);case 3:return n=e.sent,e.next=6,L(c);case 6:t=e.sent,a=true,h.add(b),h.add(S),h.add(a?n.skin:t.skin),document.getElementById("userImage").addEventListener("change",(function(e){var i=e.target.files[0];o=URL.createObjectURL(i),R(a?n.skin:t.skin,o)})),window.addEventListener("resize",(function(){k.aspect=W.clientWidth/W.clientHeight,k.updateProjectionMatrix(),p.render(h,k)})),window.addEventListener("mousemove",(function(e){if(!(Math.abs(T.getAzimuthalAngle())>.8)){var i=C(e);F(a?n.head:t.head,i),p.render(h,k)}})),q.textContent=a?"Java Edtion":"Pocket Edtion",q.addEventListener("click",(function(){a?(h.remove(n.skin),h.add(t.skin),R(t.skin,o)):(h.remove(t.skin),h.add(n.skin),R(n.skin,o)),a=!a,q.textContent=a?"Java Edtion":"Pocket Edtion"})),p.render(h,k),H.remove(),O(),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),console.log(e.t0);case 25:case"end":return e.stop()}}),e,null,[[0,22]])})))).apply(this,arguments)}var T=new d.z(k,W),B=!1,J=.05;T.enabled=!1,T.enablePan=!1,T.maxDistance=10,T.minDistance=1,T.maxPolarAngle=1.9;var O=function e(){B||(k.position.z>4?(k.position.z-=J,J+=.01):(T.enabled=!0,B=!0)),k.aspect=W.clientWidth/W.clientHeight,k.updateProjectionMatrix(),requestAnimationFrame(e),p.render(h,k)};!function(){D.apply(this,arguments)}()}},0,[[662,666,216]]]);