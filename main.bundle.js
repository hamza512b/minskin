(self.webpackChunkminskin=self.webpackChunkminskin||[]).push([[179],{662:(e,n,t)=>{"use strict";var a=t(757),i=t.n(a),o=t(926),r=t.n(o);const c=t.p+"java.gltf",d=t.p+"pocket.gltf";t.p,t.p;var s=t(886),h=t(212);const u=15921906;var l=new h.xsS;l.background=new h.Ilk(u),l.fog=new h.ybr(u,1,40);const w=l;var m=document.querySelector("canvas"),v=new h.CP7({canvas:m,antialias:!0});v.setPixelRatio(window.devicePixelRatio),v.shadowMap.enabled=!0,v.setSize(window.innerWidth,window.innerHeight,!1);const p=v;var f=new h.cPb(60,window.innerWidth/window.innerHeight,.1,1e3);f.position.z=15,f.lookAt(0,0,0);const g=f;var k=new h.ZAu,x=new h.Mig(4210752,2.5);k.add(x);var M=new h.Ox3(16777215,.5);M.castShadow=!0,M.shadow.camera.near=.1,M.shadow.camera.far=1500,M.position.set(4,5,4),M.lookAt(0,0,0),M.shadow.mapSize=new h.FM8(1024,1024),k.add(M);var P=new h.vmT(3381708,4473947,.2);k.add(P);var y=new h.PMe(16777215,.6);y.position.z=16,k.add(y);const I=k;var b=new h._12(1e3,1e3,1e3),z=new h.xoR({color:15067887}),E=new h.Kj0(b,z);E.rotation.x=-Math.PI/2,E.position.y=-1.5,E.receiveShadow=!0;const S=E;var A=new(t(47).E);const L=function(e){return new Promise((function(n,t){A.load(e,(function(e){var t,a=e.scene;a.position.y=-.5,a.traverse((function(e){if(e.castShadow=!0,"head"===e.name)return t=e;e.isMesh&&(e.material.transparent=!0,e.material.alphaTest=.5)})),n({skin:a,head:t})}),null,t)}))},R=function(e,n,t){(new h.dpR).load(n,(function(n){n.magFilter=h.TyD,n.minFilter=h.FDw,n.flipY=!1,n.encoding=h.knz;var a=!0,i=n.image.width,o=n.image.height;64===n.image.width&&64===n.image.height?e.traverse((function(e){e.isMesh&&(e.material.map=n)})):a=!1,document.getElementById("imageInfo").textContent="".concat(a?"valid":"invalid"," | size ").concat(i+"x"+o," | ").concat(t)}))};var j=function(e,n,t){return Math.min(Math.max(e,n),t)},F=function(e){return{x:e.clientX/window.innerWidth*2-1,y:-e.clientY/window.innerHeight*2+1}},H=function(e,n){e.rotation.y=j(2*Math.PI+Math.PI/2*-n.x,6,6.5)+2*Math.PI,e.rotation.x=j(2*Math.PI-Math.PI/2*n.y,6.1,6.4)+Math.PI},W=document.querySelector("div.spinner"),q=document.querySelector("canvas");function C(){return(C=r()(i().mark((function e(){var n,t,a,o,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L(c);case 3:return n=e.sent,e.next=6,L(d);case 6:t=e.sent,a=true,w.add(I),w.add(S),w.add(a?n.skin:t.skin),document.getElementById("userImage").addEventListener("change",(function(e){var a=e.target.files[0];o=URL.createObjectURL(a),R(n.skin,o,a.name),R(t.skin,o,a.name)})),window.addEventListener("resize",(function(){g.aspect=q.clientWidth/q.clientHeight,g.updateProjectionMatrix(),p.render(w,g)})),window.addEventListener("mousemove",(function(e){if(!(Math.abs(D.getAzimuthalAngle())>.8)){var i=F(e);H(a?n.head:t.head,i),p.render(w,g)}})),(r=document.getElementById("changeEdtion")).checked=a,r.addEventListener("change",(function(){a?(w.remove(n.skin),w.add(t.skin)):(w.remove(t.skin),w.add(n.skin)),a=!a,r.checked=a})),p.render(w,g),W.remove(),O(),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),console.log(e.t0);case 25:case"end":return e.stop()}}),e,null,[[0,22]])})))).apply(this,arguments)}var D=new s.z(g,q),B=!1,T=.05;D.enabled=!1,D.enablePan=!1,D.maxDistance=10,D.minDistance=1,D.maxPolarAngle=1.9;var O=function e(){B||(g.position.z>4?(g.position.z-=T,T+=.01):(D.enabled=!0,B=!0)),g.aspect=q.clientWidth/q.clientHeight,g.updateProjectionMatrix(),requestAnimationFrame(e),p.render(w,g)};!function(){C.apply(this,arguments)}()}},0,[[662,666,216]]]);